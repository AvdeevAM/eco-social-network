"use strict";(self.webpackChunkeco_social_network=self.webpackChunkeco_social_network||[]).push([[642],{9625:function(e,s,a){a.d(s,{e:function(){return m}});var n=a(1413),i=a(5671),t=a(3144),o=a(136),r=a(3668),c=a(2791),l=a(6871),u=a(8687),d=a(184),g=function(e){return{isAuth:e.auth.isAuth}},m=function(e){var s=function(s){(0,o.Z)(c,s);var a=(0,r.Z)(c);function c(){return(0,i.Z)(this,c),a.apply(this,arguments)}return(0,t.Z)(c,[{key:"render",value:function(){return this.props.isAuth?(0,d.jsx)(e,(0,n.Z)({},this.props)):(0,d.jsx)(l.Fg,{to:"/login"})}}]),c}(c.Component);return(0,u.$j)(g)(s)}},8642:function(e,s,a){a.r(s),a.d(s,{default:function(){return I}});var n=a(8687),i=a(7781),t=a(9625),o=a(2906),r=(a(2791),"Dialogs_dialogs__BGMuL"),c="Dialogs_dialogsItemsWrapper__1z1YX",l="Dialogs_dialogsItems__fuaVX",u="Dialogs_messagesBlock__AR5Cb",d="Dialogs_dialog__YaCvB",g="Dialogs_messageItem__hrm7m",m="Dialogs_mineMessage__jIqqq",h="Dialogs_messageItemText__JurHC",_="Dialogs_newMessage__OAP42",f="Dialogs_error__MCd1B",p=a(4942),x=a(1694),j=a.n(x),v=a(184),M=function(e){var s=e.message.isMine?e.authPhoto:"https://cdn-icons-png.flaticon.com/512/147/147142.png";return(0,v.jsxs)("div",{className:j()((0,p.Z)({},m,!0===e.message.isMine),g),children:[(0,v.jsx)("img",{src:s,alt:""}),(0,v.jsx)("div",{className:h,children:e.message.message})]})},w="DialogsItems_dialog__IiVl2",y="DialogsItems_active__r+1MD",D=a(3504),N=function(e){var s="/dialogs/"+e.id;return(0,v.jsxs)(D.OL,{to:s,className:function(e){return e.isActive?w+" "+y:w+" "},children:[(0,v.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/147/147144.png",alt:""}),(0,v.jsx)("div",{children:e.name.length>21?e.name.substring(0,18)+"...":e.name})]})},b=a(5705),B=a(132),P=a(2413),k=function(e){return(0,v.jsx)(b.J9,{onSubmit:e.addNewMessage,initialValues:{},validationSchema:e.messageSchema,children:function(e){var s=e.handleSubmit,a=e.isValid,n=e.dirty,i=e.errors;e.touched;return(0,v.jsxs)(b.l0,{onSubmit:s,className:_,children:[(0,v.jsxs)("div",{children:[(0,v.jsx)(b.gN,{component:"textarea",name:"newMessageBody",placeholder:"Enter your message"}),i.newMessageBody&&(0,v.jsx)("p",{className:f,children:i.newMessageBody})]}),(0,P.a)(null,"Send message","submit",{disabled:!(a&&n)})]})}})},C=function(e){var s=e.messagesPage.dialogs.map((function(e){return(0,v.jsx)(N,{name:e.name,id:e.id},e.id)})),a=e.messagesPage.messages.map((function(s){return(0,v.jsx)(M,{message:s,authPhoto:e.authPhoto},s.id)})),n=B.Ry().shape({newMessageBody:B.Z_().min(1,"Type text to send message").max(15,"caution: your message is too long to be sent")});return(0,v.jsxs)("div",{className:r,children:[(0,v.jsx)("div",{className:c,children:(0,v.jsx)("div",{className:l,children:s})}),(0,v.jsxs)("div",{className:u,children:[(0,v.jsx)("div",{className:d,children:a}),(0,v.jsx)("div",{children:(0,v.jsx)(k,{addNewMessage:function(s,a){var n=a.resetForm;e.sendMessage(s.newMessageBody),n({values:{newMessageBody:""}})},messageSchema:n})})]})]})},I=(0,i.qC)((0,n.$j)((function(e){return{messagesPage:e.dialogsPage,authPhoto:e.auth.photo}}),(function(e){return{sendMessage:function(s){e((0,o.$)(s))}}})),t.e)(C)}}]);
//# sourceMappingURL=642.95340f34.chunk.js.map