{"version":3,"file":"static/js/672.de9d4168.chunk.js","mappings":"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","sources":["HOC/WithAuthRedirect.jsx","webpack://eco-social-network/./src/components/Dialogs/Dialogs.module.css?1b2e","components/Dialogs/Message/Message.jsx","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx","../node_modules/classnames/index.js"],"sourcesContent":["import React from \"react\";\r\nimport { Navigate } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\nlet mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n});\r\n\r\nexport const WithAuthRedirect = (Component) => {\r\n  class RedirectComponent extends React.Component {\r\n    render() {\r\n      if (!this.props.isAuth) {\r\n        return <Navigate to=\"/login\" />;\r\n      }\r\n      return <Component {...this.props} />;\r\n    }\r\n  }\r\n  let ConnectedAuthRedirectComponent =\r\n    connect(mapStateToProps)(RedirectComponent);\r\n  return ConnectedAuthRedirectComponent;\r\n};\r\n","// extracted by mini-css-extract-plugin\nexport default {\"dialogs\":\"Dialogs_dialogs__BGMuL\",\"dialogsItems\":\"Dialogs_dialogsItems__fuaVX\",\"active\":\"Dialogs_active__sxp3s\",\"messages\":\"Dialogs_messages__cxlwV\",\"mineMessage\":\"Dialogs_mineMessage__jIqqq\",\"newMessage\":\"Dialogs_newMessage__OAP42\",\"error\":\"Dialogs_error__MCd1B\"};","import React from \"react\";\r\nimport s from \"./../Dialogs.module.css\";\r\nimport cn from \"classnames\";\r\n\r\nconst Message = (props) => {\r\n  return (\r\n    <div\r\n      className={cn(\r\n        {\r\n          [s.mineMessage]: props.message.isMine === true,\r\n        },\r\n        s.dialog\r\n      )}\r\n    >\r\n      <img src=\"https://cdn-icons-png.flaticon.com/512/147/147142.png\" alt=\"\" />\r\n      {props.message.message}\r\n    </div>\r\n  );\r\n};\r\nexport default Message;\r\n","import React from \"react\";\r\nimport s from \"./../Dialogs.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst DialogItem = (props) => {\r\n  let path = \"/dialogs/\" + props.id;\r\n  return (\r\n    <div className={s.dialog + \" \" + s.active}>\r\n      <img src=\"https://cdn-icons-png.flaticon.com/512/147/147144.png\" alt=\"\" />\r\n      <NavLink to={path}>{props.name}</NavLink>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DialogItem;\r\n","import React from \"react\";\r\nimport s from \"./Dialogs.module.css\";\r\nimport Message from \"./Message/Message\";\r\nimport DialogItem from \"./DialogItem/DialogItem\";\r\nimport { Formik, Field, Form } from \"formik\";\r\nimport * as yup from \"yup\";\r\nimport { createButton } from \"../common/Button/Button\";\r\n\r\nconst Dialogs = (props) => {\r\n  let dialogsElements = props.messagesPage.dialogs.map((d) => (\r\n    <DialogItem name={d.name} id={d.id} key={d.id} />\r\n  ));\r\n  let messagesElements = props.messagesPage.messages.map((m) => (\r\n    <Message message={m} key={m.id} />\r\n  ));\r\n\r\n  let addNewMessage = (values, { resetForm }) => {\r\n    props.sendMessage(values.newMessageBody);\r\n    resetForm({\r\n      values: {\r\n        newMessageBody: \"\",\r\n      },\r\n    });\r\n  };\r\n\r\n  const messageSchema = yup.object().shape({\r\n    newMessageBody: yup\r\n      .string()\r\n      .max(15, \"Message is too long\")\r\n      .required(\"Type text to send message\"),\r\n  });\r\n\r\n  return (\r\n    <div className={s.dialogs}>\r\n      <div className={s.dialogsItems}>{dialogsElements}</div>\r\n      <div className={s.messages}>\r\n        {messagesElements}\r\n        <FormikDialogs\r\n          addNewMessage={addNewMessage}\r\n          messageSchema={messageSchema}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst FormikDialogs = (props) => {\r\n  return (\r\n    <Formik\r\n      onSubmit={props.addNewMessage}\r\n      initialValues={{}}\r\n      validationSchema={props.messageSchema}\r\n    >\r\n      {({ handleSubmit, isValid, dirty, errors, touched }) => (\r\n        <Form onSubmit={handleSubmit} className={s.newMessage}>\r\n          <div>\r\n            <Field\r\n              component=\"textarea\"\r\n              name=\"newMessageBody\"\r\n              placeholder=\"Enter your message\"\r\n            />\r\n            {touched.newMessageBody && errors.newMessageBody && (\r\n              <p className={s.error}>{errors.newMessageBody}</p>\r\n            )}\r\n          </div>\r\n          <div>\r\n            {createButton(undefined, \"Send message\", \"submit\", {\r\n              disabled: !isValid && !dirty && touched.newMessageBody,\r\n            })}\r\n          </div>\r\n        </Form>\r\n      )}\r\n    </Formik>\r\n  );\r\n};\r\n\r\nexport default Dialogs;\r\n","import { connect } from \"react-redux\";\r\nimport { compose } from \"redux\";\r\nimport { WithAuthRedirect } from \"../../HOC/WithAuthRedirect\";\r\nimport {\r\n  sendMessageActionCreator,\r\n} from \"../../redux/dialogsReducer\";\r\nimport Dialogs from \"./Dialogs\";\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    messagesPage: state.dialogsPage,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    sendMessage: (message) => {\r\n      dispatch(sendMessageActionCreator(message));\r\n    },\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, mapDispatchToProps),\r\n  WithAuthRedirect\r\n)(Dialogs);\r\n","/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n"],"names":["mapStateToProps","state","isAuth","auth","WithAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","className","cn","s","message","isMine","src","alt","path","id","name","FormikDialogs","onSubmit","addNewMessage","initialValues","validationSchema","messageSchema","handleSubmit","isValid","dirty","errors","touched","component","placeholder","newMessageBody","createButton","undefined","disabled","dialogsElements","messagesPage","dialogs","map","d","messagesElements","messages","m","yup","shape","max","required","values","resetForm","sendMessage","compose","dialogsPage","dispatch","sendMessageActionCreator","Dialogs","hasOwn","hasOwnProperty","classNames","classes","i","arguments","length","arg","argType","push","Array","isArray","inner","apply","toString","Object","prototype","key","call","join","module","exports","default"],"sourceRoot":""}