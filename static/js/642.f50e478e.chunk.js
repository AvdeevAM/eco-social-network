"use strict";(self.webpackChunkeco_social_network=self.webpackChunkeco_social_network||[]).push([[642],{9625:function(e,s,a){a.d(s,{e:function(){return m}});var n=a(1413),i=a(5671),t=a(3144),o=a(136),r=a(3668),c=a(2791),d=a(6871),l=a(8687),g=a(184),u=function(e){return{isAuth:e.auth.isAuth}},m=function(e){var s=function(s){(0,o.Z)(c,s);var a=(0,r.Z)(c);function c(){return(0,i.Z)(this,c),a.apply(this,arguments)}return(0,t.Z)(c,[{key:"render",value:function(){return this.props.isAuth?(0,g.jsx)(e,(0,n.Z)({},this.props)):(0,g.jsx)(d.Fg,{to:"/login"})}}]),c}(c.Component);return(0,l.$j)(u)(s)}},8642:function(e,s,a){a.r(s),a.d(s,{default:function(){return I}});var n=a(8687),i=a(7781),t=a(9625),o=a(2906),r=(a(2791),"Dialogs_dialogs__BGMuL"),c="Dialogs_dialogsItemsWrapper__1z1YX",d="Dialogs_dialogsItems__fuaVX",l="Dialogs_messagesBlock__AR5Cb",g="Dialogs_dialog__YaCvB",u="Dialogs_messageItem__hrm7m",m="Dialogs_mineMessage__jIqqq",h="Dialogs_messageItemText__JurHC",_="Dialogs_newMessage__OAP42",f="Dialogs_error__MCd1B",v=a(4942),x=a(1694),j=a.n(x),p=a(184),M=function(e){var s=e.message.isMine?e.authPhoto:"https://cdn-icons-png.flaticon.com/512/147/147142.png";return(0,p.jsxs)("div",{className:j()((0,v.Z)({},m,!0===e.message.isMine),u),children:[(0,p.jsx)("img",{src:s,alt:""}),(0,p.jsx)("div",{className:h,children:e.message.message})]})},w="DialogsItems_dialog__IiVl2",y="DialogsItems_active__r+1MD",D=a(3504),N=function(e){var s="/dialogs/"+e.id;return(0,p.jsxs)(D.OL,{to:s,className:function(e){return e.isActive?w+" "+y:w+" "},children:[(0,p.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/147/147144.png",alt:""}),(0,p.jsx)("div",{children:e.name.length>21?e.name.substring(0,18)+"...":e.name})]})},B=a(5705),b=a(132),P=a(2413),k=function(e){return(0,p.jsx)(B.J9,{onSubmit:e.addNewMessage,initialValues:{},validationSchema:e.messageSchema,children:function(e){var s=e.handleSubmit,a=e.isValid,n=e.dirty,i=e.errors,t=e.touched;return(0,p.jsxs)(B.l0,{onSubmit:s,className:_,children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(B.gN,{component:"textarea",name:"newMessageBody",placeholder:"Enter your message"}),t.newMessageBody&&i.newMessageBody&&(0,p.jsx)("p",{className:f,children:i.newMessageBody})]}),(0,p.jsx)("div",{children:(0,P.a)(void 0,"Send message","submit",{disabled:!a&&!n&&t.newMessageBody})})]})}})},C=function(e){var s=e.messagesPage.dialogs.map((function(e){return(0,p.jsx)(N,{name:e.name,id:e.id},e.id)})),a=e.messagesPage.messages.map((function(s){return(0,p.jsx)(M,{message:s,authPhoto:e.authPhoto},s.id)})),n=b.Ry().shape({newMessageBody:b.Z_().max(15,"Message is too long").required("Type text to send message")});return(0,p.jsxs)("div",{className:r,children:[(0,p.jsx)("div",{className:c,children:(0,p.jsx)("div",{className:d,children:s})}),(0,p.jsxs)("div",{className:l,children:[(0,p.jsx)("div",{className:g,children:a}),(0,p.jsx)("div",{children:(0,p.jsx)(k,{addNewMessage:function(s,a){var n=a.resetForm;e.sendMessage(s.newMessageBody),n({values:{newMessageBody:""}})},messageSchema:n})})]})]})},I=(0,i.qC)((0,n.$j)((function(e){return{messagesPage:e.dialogsPage,authPhoto:e.auth.photo}}),(function(e){return{sendMessage:function(s){e((0,o.$)(s))}}})),t.e)(C)}}]);
//# sourceMappingURL=642.f50e478e.chunk.js.map