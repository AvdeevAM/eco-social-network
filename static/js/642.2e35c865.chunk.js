"use strict";(self.webpackChunkeco_social_network=self.webpackChunkeco_social_network||[]).push([[642],{9625:function(e,s,a){a.d(s,{e:function(){return m}});var n=a(1413),i=a(5671),t=a(3144),o=a(136),r=a(3668),l=a(2791),c=a(6871),u=a(8687),g=a(184),d=function(e){return{isAuth:e.auth.isAuth}},m=function(e){var s=function(s){(0,o.Z)(l,s);var a=(0,r.Z)(l);function l(){return(0,i.Z)(this,l),a.apply(this,arguments)}return(0,t.Z)(l,[{key:"render",value:function(){return this.props.isAuth?(0,g.jsx)(e,(0,n.Z)({},this.props)):(0,g.jsx)(c.Fg,{to:"/login"})}}]),l}(l.Component);return(0,u.$j)(d)(s)}},8642:function(e,s,a){a.r(s),a.d(s,{default:function(){return S}});var n=a(8687),i=a(7781),t=a(9625),o=a(2906),r=(a(2791),"Dialogs_dialogs__BGMuL"),l="Dialogs_dialogsItemsWrapper__1z1YX",c="Dialogs_dialogsItems__fuaVX",u="Dialogs_messagesBlock__AR5Cb",g="Dialogs_dialog__YaCvB",d="Dialogs_messageItem__hrm7m",m="Dialogs_mineMessage__jIqqq",h="Dialogs_messageItemText__JurHC",_="Dialogs_newMessage__OAP42",f="Dialogs_error__MCd1B",p=a(4942),x=a(1694),j=a.n(x),v=a(9857),M=a(184),w=function(e){var s=e.message.isMine?e.authPhoto?e.authPhoto:v:"https://cdn-icons-png.flaticon.com/512/147/147142.png";return(0,M.jsxs)("div",{className:j()((0,p.Z)({},m,!0===e.message.isMine),d),children:[(0,M.jsx)("img",{src:s,alt:""}),(0,M.jsx)("div",{className:h,children:e.message.message})]})},y="DialogsItems_dialog__IiVl2",D="DialogsItems_active__r+1MD",N=a(3504),B=function(e){var s="/dialogs/"+e.id;return(0,M.jsxs)(N.OL,{to:s,className:function(e){return e.isActive?y+" "+D:y+" "},children:[(0,M.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/147/147144.png",alt:""}),(0,M.jsx)("div",{children:e.name.length>21?e.name.substring(0,18)+"...":e.name})]})},b=a(5705),P=a(132),k=a(2413),C=function(e){return(0,M.jsx)(b.J9,{onSubmit:e.addNewMessage,initialValues:{newMessageBody:""},validationSchema:e.messageSchema,children:function(e){var s=e.handleSubmit,a=e.isValid,n=e.dirty,i=e.errors;return(0,M.jsxs)(b.l0,{onSubmit:s,className:_,children:[(0,M.jsxs)("div",{children:[(0,M.jsx)(b.gN,{component:"textarea",name:"newMessageBody",placeholder:"Enter your message"}),i.newMessageBody&&(0,M.jsx)("p",{className:f,children:i.newMessageBody})]}),(0,k.a)(null,"Send message","submit",{disabled:!(a&&n)})]})}})},I=function(e){var s=e.messagesPage.dialogs.map((function(e){return(0,M.jsx)(B,{name:e.name,id:e.id},e.id)})),a=e.messagesPage.messages.map((function(s){return(0,M.jsx)(w,{message:s,authPhoto:e.authPhoto},s.id)})),n=P.Ry().shape({newMessageBody:P.Z_().min(1,"type text to send message").max(15,"caution: your message is too long to be sent")});return(0,M.jsxs)("div",{className:r,children:[(0,M.jsx)("div",{className:l,children:(0,M.jsx)("div",{className:c,children:s})}),(0,M.jsxs)("div",{className:u,children:[(0,M.jsx)("div",{className:g,children:a}),(0,M.jsx)("div",{children:(0,M.jsx)(C,{addNewMessage:function(s,a){var n=a.resetForm;e.sendMessage(s.newMessageBody),n({values:{newMessageBody:""}})},messageSchema:n})})]})]})},S=(0,i.qC)((0,n.$j)((function(e){return{messagesPage:e.dialogsPage,authPhoto:e.auth.photo}}),(function(e){return{sendMessage:function(s){e((0,o.$)(s))}}})),t.e)(I)}}]);
//# sourceMappingURL=642.2e35c865.chunk.js.map