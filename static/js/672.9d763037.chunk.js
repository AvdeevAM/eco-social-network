"use strict";(self.webpackChunkeco_social_network=self.webpackChunkeco_social_network||[]).push([[672],{9625:function(e,s,n){n.d(s,{e:function(){return m}});var a=n(1413),i=n(5671),t=n(3144),o=n(136),r=n(3668),c=n(2791),g=n(6871),d=n(8687),l=n(184),u=function(e){return{isAuth:e.auth.isAuth}},m=function(e){var s=function(s){(0,o.Z)(c,s);var n=(0,r.Z)(c);function c(){return(0,i.Z)(this,c),n.apply(this,arguments)}return(0,t.Z)(c,[{key:"render",value:function(){return this.props.isAuth?(0,l.jsx)(e,(0,a.Z)({},this.props)):(0,l.jsx)(g.Fg,{to:"/login"})}}]),c}(c.Component);return(0,d.$j)(u)(s)}},5672:function(e,s,n){n.r(s),n.d(s,{default:function(){return f}});var a=n(8687),i=n(7781),t=n(9625),o=n(2906),r=(n(2791),{dialogs:"Dialogs_dialogs__BGMuL",dialogsItems:"Dialogs_dialogsItems__fuaVX",active:"Dialogs_active__sxp3s",messages:"Dialogs_messages__cxlwV",mineMessage:"Dialogs_mineMessage__jIqqq",newMessage:"Dialogs_newMessage__OAP42",error:"Dialogs_error__MCd1B"}),c=n(184),g=function(e){return!0===e.message.isMine?(0,c.jsxs)("div",{className:r.dialog+" "+r.mineMessage,children:[(0,c.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/147/147142.png",alt:""}),e.message.message]}):(0,c.jsxs)("div",{className:r.dialog,children:[(0,c.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/147/147144.png",alt:""}),e.message.message]})},d=n(3504),l=function(e){var s="/dialogs/"+e.id;return(0,c.jsxs)("div",{className:r.dialog+" "+r.active,children:[(0,c.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/147/147144.png",alt:""}),(0,c.jsx)(d.OL,{to:s,children:e.name})]})},u=n(5705),m=n(132),h=function(e){return(0,c.jsx)(u.J9,{onSubmit:e.addNewMessage,initialValues:{},validationSchema:e.messageSchema,children:function(e){var s=e.handleSubmit,n=e.isValid,a=e.dirty,i=e.errors,t=e.touched;return(0,c.jsxs)(u.l0,{onSubmit:s,className:r.newMessage,children:[(0,c.jsxs)("div",{children:[(0,c.jsx)(u.gN,{component:"textarea",name:"newMessageBody",placeholder:"Enter your message"}),t.newMessageBody&&i.newMessageBody&&(0,c.jsx)("p",{className:r.error,children:i.newMessageBody})]}),(0,c.jsx)("div",{children:(0,c.jsx)("button",{disabled:!n&&!a&&t.newMessageBody,type:"submit",children:"Send message"})})]})}})},p=function(e){var s=e.messagesPage.dialogs.map((function(e){return(0,c.jsx)(l,{name:e.name,id:e.id},e.id)})),n=e.messagesPage.messages.map((function(e){return(0,c.jsx)(g,{message:e},e.id)})),a=m.Ry().shape({newMessageBody:m.Z_().max(10,"Message is too long").required("Type text to send message")});return(0,c.jsxs)("div",{className:r.dialogs,children:[(0,c.jsx)("div",{className:r.dialogsItems,children:s}),(0,c.jsxs)("div",{className:r.messages,children:[n,(0,c.jsx)(h,{addNewMessage:function(s){e.sendMessage(s.newMessageBody)},messageSchema:a})]})]})},f=(0,i.qC)((0,a.$j)((function(e){return{messagesPage:e.dialogsPage}}),(function(e){return{sendMessage:function(s){e((0,o.$)(s))}}})),t.e)(p)}}]);
//# sourceMappingURL=672.9d763037.chunk.js.map